$.fn.raty.defaults.path = "/assets"; 
$.fn.raty.defaults.half_show = true; 
$.fn.raty.defaults.space = false; 
$.fn.raty.defaults.hints = ['very bad', 'bad', 'poor', 'ok', 'not quite', 'normal', 'good', 'very good', 'great', 'the best'];  
 
$(function(){ 
  $(".star").raty({
    score: function(){
      return $(this).attr('data-rating')
    }, 
    number: function() {
      return $(this).attr('data-star-count')
    },
    click: function(score, evt) {
        var raton = $(this).attr('data-classname')
        var raton_id = $(this).attr('data-id')
        var raton_by = $(this).attr('data-dimension')
        $.post('<%= Rails.application.class.routes.url_helpers.rate_path %>', 
            { score: score, dimension: raton_by, id: raton_id, klass: raton}, 
            function(data) {
                  if(data) {
                      console.log("Rating OK for "+raton)
                  }
        });
    }                        
  });           
});


